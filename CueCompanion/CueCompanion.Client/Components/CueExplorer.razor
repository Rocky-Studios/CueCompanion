<MudPaper Class="p-4" Outlined="true">
    <MudText Typo="Typo.h5" Class="mb-2">Cue Explorer</MudText>
    @if (Cues != null)
        @foreach (Cue cue in Cues)
    {
        <CueBox Name="@cue.CueName" Color="GetColorForCue(cue)" Number="@cue.CueNumber"/>
    }
</MudPaper>

@code
{
    [Parameter] public required Cue[]? Cues { get; set; }

    protected CueColor GetColorForCue(Cue cue)
    {
        if (ShowService.CurrentCue != null && ShowService.CurrentCueNumber is { } currentCueNumber)
        {
            if (cue.CueNumber == currentCueNumber)
            {
                return CueColor.Green;
            }

            if (cue.CueNumber == currentCueNumber - 1)
            {
                return CueColor.Yellow;
            }

            if (cue.CueNumber == currentCueNumber + 1)
            {
                return CueColor.Blue;
            }

            return CueColor.Gray;
        }

        return CueColor.Gray;
    }
}
